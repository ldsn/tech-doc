---
title: httpsqs队列介绍与安装方法
time: 2015-01-27 01:20
descript: 简单介绍队列的应用
---

#httpsqs队列介绍与安装方法

<http://zyan.cc/httpsqs/>

上面有些链接可能失效，或不能访问，可以自行寻找资源下载。

什么时候用得到：

    比如，成绩短信推送系统中，如果用php调取接口的话，调取接口的时间是4s，这个php文件要运行4秒（注意1）才能继续做其他的事情，万一调取的接口服务器挂掉了，咱们的php接下来的工作也就玩完了（注意2）。
    现在，我开始使用队列了，当检测到用户成绩更新时，我把用户到手机号和新成绩发送到队列中，然后接着继续做第二个成绩的检测。不需要在当前php中去调用短信接口。然后我需要在服务器上另外启一个服务，这个服务是从队列中取出刚刚添加到队列中的数据的，然后去处理这些数据发送短信。如果有一次操作挂掉了，我可以从队列中取出刚刚挂掉的那个数据进行重新处理。
    可能很纳闷为什么要这么做，举个例子，如果有N多个用户一起上传头像，图片都很大的，这时候服务端需要压缩图片，N多个图片一起压缩服务器损耗太大，这时候用队列多话，我把上传图片地址放进对列，然后让服务端的“压缩程序”一条一条的取，压缩完了取一条，压缩完了取一条，减少了服务器的损耗。

